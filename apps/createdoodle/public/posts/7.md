# 백준 1712번 손익분기점

## 문제

월드전자는 노트북을 제조하고 판매하는 회사이다. 노트북 판매 대수에 상관없이 매년 임대료, 재산세, 보험료, 급여 등 A만원의 고정 비용이 들며, 한 대의 노트북을 생산하는 데에는 재료비와 인건비 등 총 B만원의 가변 비용이 든다고 한다.

예를 들어 A=1,000, B=70이라고 하자. 이 경우 노트북을 한 대 생산하는 데는 총 1,070만원이 들며, 열 대 생산하는 데는 총 1,700만원이 든다.

노트북 가격이 C만원으로 책정되었다고 한다. 일반적으로 생산 대수를 늘려 가다 보면 어느 순간 총 수입(판매비용)이 총 비용(=고정비용+가변비용)보다 많아지게 된다. 최초로 총 수입이 총 비용보다 많아져 이익이 발생하는 지점을 손익분기점(BREAK-EVEN POINT)이라고 한다.

A, B, C가 주어졌을 때, 손익분기점을 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에 A, B, C가 빈 칸을 사이에 두고 순서대로 주어진다. A, B, C는 21억 이하의 자연수이다.

## 출력

첫 번째 줄에 손익분기점 즉 최초로 이익이 발생하는 판매량을 출력한다. 손익분기점이 존재하지 않으면 -1을 출력한다.

## 풀이

이 문제는 반복문으로 풀면 시간 초과가 나기 때문에 수학적인 공식으로 풀어야 합니다.

### 방정식

방정식을 이용하여 풀면 쉽게 풀 수 있습니다.  
손익분기점을 계산해야 하기 때문에 총 수입 - 총 비용이 0이 되는 시점을 찾은 다음 그 이상이 되는 판매대수를 구해야 합니다.

`a = 고정 비용`  
`b = 가변 비용`  
`c = 가격`  
`s = 판매 대수`

으로 설정하면

식은  
$cs-(a+bs)=0$  
이 되어야 합니다.  
간단하게 이항하면서 풀어보면

$cs-a-bs=0$

$-a+cs-bs=0$

$-a+cs-bs=0$

${-a\over(-b+c)}+s=0$

$s=-{-a\over(-b+c)}$

$s=-{\frac{a}{b-c}}$

로 나타낼 수 있습니다.

이로써 `총 수입 - 총 비용이 0`이 되는 시점의 판매 대수를 구할 수 있습니다.

이 식을 코드로 그대로 나타내면

```javascript
const sales = -(a / (b - c));
```

입니다.

다음은 문제의 조건대로 손익분기점이 존재하지 않으면 -1을 출력해야 하는데,  
이 조건은 `sales` 가 0이하일 때 -1을 출력하면 됩니다.  
왜냐하면, `sales`가 0 이하라는 것은 가격 보다 가변 비용이 더 크다는 것을 뜻하는데,  
이런 경우는 물건을 평생 판매해도 흑자 전환은 힘들기 때문입니다.  
만약 연필을 파는데 만드는 비용이 300원인데 가격은 100원 이면, 팔면 팔수록 손해만 늘어나는 것을 생각해 볼 수 있습니다.

해당 조건을 식으로 나타내면 다음과 같습니다.

```javascript
const sales = -(a / (b - c));

if (sales > 0) {
  console.log(sales);
} else {
  console.log(-1);
}
```

하지만 이렇게 코드를 제출하면 오답이라고 나타납니다.  
왜냐하면,

1. 현재 판매 대수의 기준은 총 수입 - 총 비용이 0 일때의 기준이다.
2. `총 수입 - 총 비용이 0`이 되는 판매 대수를 구할 때 무조건 정수가 나오는 것은 아니다.  
   이런 이유 때문에 오답이 나옵니다.

이 오답을 해결하려면,

1. `총 수입 - 총 비용이 0` 이상일때를 구하기 위해 +1을 해준다.
2. `총 수입 - 총 비용 = 0` 일때 소수점이 나오면 소수점을 버린다.

이런 방법들을 생각해 볼 수 있습니다.

소수점을 올림하지 않고 버리는 이유는 올림하였을 경우 손익분기점을 넘기는데,
정수로 나누어 떨어지는 경우에서는 올림해도 손익분기점 직전의 판매 대수이기 때문에  
일관성을 위하여 소수점을 버리고 1을 더해주는 방식을 사용하였습니다.

```javascript
...
// Math.floor() 를 이용하여 소수점을 버려준다.
console.log(Math.floor(sales) + 1);
...

```

## 전체 코드

```javascript
let fs = require('fs');
let input = fs.readFileSync('dev/stdin').toString().split(' ');

const a = input[0];
const b = input[1];
const c = input[2];

const sales = -(a / (b - c));

if (sales > 0) {
  console.log(Math.ceil(sales) + 1);
} else {
  console.log(-1);
}
```
